<h2>Seleccione el usuario al que le quiere enviar email:</h2>
<mat-form-field appearance="standard">
    <mat-label>Filter</mat-label>
    <input autocomplete="off" matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
  </mat-form-field>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z4">
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef># </th>
        <td mat-cell *matCellDef=" let element"> {{element.idUsuario}}</td>
    </ng-container>
    <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef=" let element"> {{element.nombre}}</td>
    </ng-container>
    <ng-container matColumnDef="apellido">
        <th mat-header-cell *matHeaderCellDef> Apellido </th>
        <td mat-cell *matCellDef=" let element"> {{element.apellido}}</td>
    </ng-container>
    <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email</th>
        <td mat-cell *matCellDef=" let element"> {{element.email}}</td>
    </ng-container>
    <ng-container matColumnDef="dni">
        <th mat-header-cell *matHeaderCellDef> D.N.I. </th>
        <td mat-cell *matCellDef=" let element"> {{element.dni}}</td>
    </ng-container>
    <ng-container matColumnDef="accion">
        <th mat-header-cell *matHeaderCellDef>Accion </th>
        <td mat-cell *matCellDef=" let element">
            <button mat-raised-button color="primary" (click)="seleccionarUsuario(element.email)">
                <mat-icon matTooltip="Enviar email" aria-hidden="false" aria-label="Example home icon">mail</mat-icon>
            </button>
            
            
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnas"></tr>
    <tr mat-row *matRowDef="let row; columns:columnas"></tr>
    <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No se encuentra "{{input.value}}"</td>
      </tr>

     

</table>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
<div class="grid">
    <div class="mat-elevation-z4 ">
     <div style="margin: 10px; width: 400px;">   

<form [formGroup]= "mailForm" (ngSubmit)="enviarMail()">
    <div>
        <mat-form-field style="width: 100%;">
            <input required matInput formControlName="email" type="text" placeholder="Email" >
        </mat-form-field>
    </div>
    <div>
        <mat-form-field style="width: 100%;">
            <input  required matInput formControlName="asunto" type="text" placeholder="Asunto" >
        </mat-form-field>
    </div>
    <!--
    <div>
        
        <mat-form-field>
            <input required matInput formControlName="mensaje" type="text" placeholder="Mensaje" >
        </mat-form-field>
    </div>
    -->

    <mat-form-field [style.fontSize]="14" appearance="fill" style="width: 100%;">
        <mat-label>Ingrese el mensaje</mat-label>
        <textarea matInput
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5"
                  formControlName="mensaje"
                  required
                  placeholder="Mensaje"></textarea>
      </mat-form-field>



    <div>
        <button mat-raised-button color="primary" [disabled]="!mailForm.valid" type="submit">Enviar mail</button>
    </div>
</form>
</div>
</div>
</div>