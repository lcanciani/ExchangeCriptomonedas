
<div class="grid">
<div class="mat-elevation-z4 " style="margin: 10px;">
    <div style="margin: 10px;">
    <h2>Comprar {{datosVenta.nombreCriptomoneda}}</h2>

    <div>
        <form action="" [formGroup]="formConfigurarVenta">
        <p>Ingrese el monto a comprar en pesos argentinos.</p>
        
        <div class="flex">
            <div>
            <mat-form-field  floatLabel="always">
                <mat-label>Monto</mat-label>
                <input required matInput type="number" class="example-right-align" placeholder="0"
                formControlName="monto" (input)="onSearchChange($event.target.value)"
                >
                <span matPrefix>$&nbsp;</span>
                
              </mat-form-field>


              <mat-form-field >
                <mat-label>Forma de compra</mat-label>
                <mat-select  formControlName="formaCompra" (selectionChange)="cambioFormaPago()" [(ngModel)]="selected">
                  <mat-option *ngFor="let forma of formaCompra" [value]="forma.value">
                      <div>
                      <img [src]="forma.imgUrl" alt="" height="15px" width="15px">
                    {{forma.viewValue}}
                </div>
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <span *ngIf="this.validarCantidad ">
                Saldo insuficiente
              </span>

            </div>
        </div>
        <!--<input type="number" (input)="onSearchChange($event.target.value)" formControlName="monto">-->
        <hr>
        <div class="flex">
        <label for="">Cantidad:</label>
    </div>
        <div class="flex">
            
        <mat-form-field  >
            <input  matInput type="number" value="{{this.cantidadCompraCripto }}" formControlName="cantidad">
        </mat-form-field>
        
    </div>
        </form>

    </div>
    <div>
        <p>Tené en cuenta que la compra de {{datosVenta.nombreCriptomoneda}} tiene {{datosVenta.comision | percent}} de comisión.</p>

    </div>
    <div class="flex">
        <button [disabled]="this.validarCantidad || !formConfigurarVenta.valid" mat-raised-button color="primary"  (click)="confirmarVenta()">Confirmar compra</button>
    </div>


</div>
</div>
</div>